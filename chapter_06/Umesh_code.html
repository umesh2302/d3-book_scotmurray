<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8">
		<title>D3: Creating an empty SVG</title>
		<script type="text/javascript" src="../d3.js"></script>
		<style type="text/css">
			/* No style rules here yet */		
		</style>
	</head>
	<body>
		<script type="text/javascript">
			let dataset = [12, 14, 21, 9, 32, 40]
            let h = 200
            let w = 500
            let barPadding = 1 
			//Create SVG element
			var svg = d3.select("body")
						.append("svg")
						.attr("width", w)
						.attr("height", h);
		
        // binding data as circle 
        //hiding this as it not the final codes 
         /*   svg.selectAll('circle')
                .data(dataset)
                .enter()
                .append('circle')
                .attr('cx', function (d,i){
                    return i*50+d
                })
                .attr('cy', h/2 )
                .attr ('r', function(d){
                    return (d/2)
                })
                .attr ('fill', 'red')
                .attr('stroke', 'orange')
                .attr('stroke-width', function (d) {return d/4} ); */

            // append rect for bar 

            svg.selectAll('rect')
                .data(dataset)
                .enter()
                .append('rect')
                .attr('x',function(d,i) {
                    return (i*(w/dataset.length))
                })
                .attr('y',function(d){
                    //console.log(h-d);
                     return (h-d*3)} )
                .attr('height',function(d){
                    return (d*3)
                })
                .attr('width', w/dataset.length - barPadding)
                .attr('fill', function (d){
                    console.log ("rgb("+ Math.round(d) + ",0,0)")
                    return "rgb("+ Math.round(d*10) + ",0,0)";
                }
                )

            svg.selectAll('text')
                .data(dataset)
                .enter()
                .append('text')
                .text( function(d){
                    return d
                })
                .attr('x',function(d,i) {
                    return i*(w/dataset.length) + (w/dataset.length-barPadding)/2
                }) 
                .attr('y',function(d){
                    console.log(h-d);
                     return (h-d*3)+14} )
                .attr('font-family', 'sans-serif')
                .attr('font-size', '11px')
                .attr('fill','white')
                .attr('text-anchor', 'middle')
                
			
		</script>
	</body>
</html>